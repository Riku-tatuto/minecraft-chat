<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Minecraft é›‘è«‡æ²ç¤ºæ¿</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }
    header {
      width: 100%;
      max-width: 400px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    .link {
      text-decoration: underline;
      cursor: pointer;
      color: #4CAF50;
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ® Minecraft é›‘è«‡æ²ç¤ºæ¿</h1>
    <div>
      <span id="userInfo"></span>
      <span id="btnLogout" class="link" style="display:none; margin-left:1rem;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>
      <a href="login.html" id="btnLogin" class="link" style="margin-left:1rem;">ãƒ­ã‚°ã‚¤ãƒ³</a>
      <a href="register.html" id="btnRegister" class="link" style="margin-left:0.5rem;">æ–°è¦ç™»éŒ²</a>
    </div>
  </header>

  <main style="text-align:center; max-width:400px;">
    <p>ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½ã¯ç¾åœ¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã™ã€‚<br>ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ã€æœ€æ–°æƒ…å ±ã‚„ãŠçŸ¥ã‚‰ã›ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
    <div id="content"></div>
  </main>

  <script type="module">
    import { observeAuth, logout } from './auth.js';

    const userInfoEl = document.getElementById('userInfo');
    const btnLogout  = document.getElementById('btnLogout');
    const btnLogin   = document.getElementById('btnLogin');
    const btnRegister= document.getElementById('btnRegister');

    observeAuth(user => {
      if (user && user.emailVerified) {
        userInfoEl.textContent = user.email + ' ã•ã‚“';
        btnLogout.style.display  = '';
        btnLogin.style.display   = 'none';
        btnRegister.style.display= 'none';
        document.getElementById('content').textContent =
          'ã‚ˆã†ã“ãï¼æœ€æ–°ã®ãŠçŸ¥ã‚‰ã›ãŒã‚ã‚Œã°ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚';
      } else {
        userInfoEl.textContent = '';
        btnLogout.style.display  = 'none';
        btnLogin.style.display   = '';
        btnRegister.style.display= '';
        document.getElementById('content').textContent =
          'ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨æœ€æ–°æƒ…å ±ã‚’ç¢ºèªã§ãã¾ã™ã€‚';
      }
    });

    btnLogout.addEventListener('click', () => {
      logout();
    });
  </script>
</body>
</html>
